--- 
layout: post
title: 电信行业数据仓库数据架构设计
tags: 
- "数据仓库"
- "架构设计"
status: publish
type: post
published: true
---
电信运营商通过建立企业级数据仓库平台，一方面实现KPI、报表、主题分析、专题分析、数据挖掘等分析功能，满足集团、省公司、地市、区县及一线营销人员的数据分析需求，另一方面要求数据仓库能够与业务系统形成信息互动，提供业务系统所依赖的评估类信息。

      对于电信行业数据仓库的建设，由于业务系统较多、数据关系复杂，并且不同的业务系统往往由不同的厂商搭建，给数据仓库的数据集成、整合工作带来了不少困难，同时电信运营商在数据仓库正确性、准确性、适用性、完备性、一致性、可扩展性、健壮性等方面的要求，决定了数据仓库的数据必须采用合理的方式进行组织。

      通常，电信行业数据仓库对数据进行分层管理，可以分为以下几个层次：

image

STAGE层 

•定位及作用：STAGE层是数据仓库数据的登台层，用于临时存储从数据源系统装载到数据仓库的数据，以方便充分利用数据仓库平台本身的性能完成后续数据的处理。
•设计原则：STAGE层存储数据源系统增量或全量的原始细节性数据，一般保留周期比较短，其主题域划分、数据模型与生产系统保持一致。

ODS层
•定位及作用：ODS层是一个面向主题的、集成的、可变的、当前的细节数据层，用于支持企业对于即时性的、操作性的、集成的信息的需求。它经常被作为数据仓库的数据处理的过渡，以降低直接进行数据处理的复杂度。
•设计原则：ODS层是数据架构中的细节性数据，本层数据域的划分原则上以企业级数据模型域的划分为指导，按生产系统规范统一数据模型和数据编码，同时对于数据源系统的数据质量进行稽核，保证进入数据仓库数据的完整性。

DWD层
•定位及作用：DWD层是数据仓库对业务系统核心数据的长期沉淀，是数据仓库的细节数据层，为企业各种分析类应用提供细节性数据支持，是企业数据仓库的核心，同时为未来需求的扩展提供历史数据支持。 
•设计原则：DWD层的模型设计，需要围绕企业核心业务过程展开，关注业务过程中的核心业务事件和业务实体，以企业级数据模（EDM）型规范为指导(一般采用3NF进行设计，达到数据冗余最小)，是企业级数据模型（EDM）的落地；其数据域的划分遵从企业级数据模型域的划分。

DWA层
•定位及作用：DWA是数据仓库的衍生汇总数据层，该层通过对DWD层数据进行预处理（轻度汇总、衍生），提高了后续数据处理和访问性能，其特点是面向应用但不直接支持应用，将应用过程中的常用信息进行共同沉淀和处理，作为DWD层和DM层之间的一个过渡层次，与DWD层共同构成企业级数据仓库。
•设计原则：DWA层的分为两部分，一部分是轻度汇总，该部分围绕DWD层核心业务事件展开，保留到核心业务实体ID级、数据粒度由细变粗、选取常用维度、保留事件的业务度量，进行数据轻度汇总和沉淀；另外一部分是衍生数据，该部分是围绕DWD层核心业务实体（个人客户、集团客户、产品、订购实例、产品、渠道等）进行信息衍生，将核心业务实体参与事件的信息属性化，由原来站在事件角度看问题转换为站在核心业务实体角度看问题，该部分与DWD层一同构成核心业务实体的统一数据视图。该层原则上依赖DWD层，对于生产型模型缺失的情况，又有应用需求的，在本层进行了补充，如首次通话时间等。DWA层应该采用反规范化冗余设计，快速支持数据访问和应用开发；DWA层只能保证相对稳定，随着分析需求的增加，需要进行不断扩展。

DM层
•定位及作用：DM层从数据仓库的ODS层、DWD层、DWA层抽取相关数据并进行转换和装载，并根据应用需求形成的数据集合，支撑省份以及各个专业化的业务部门进行建设专业化应用。数据集市包括省份数据集市、专业化的部门集市、面向应用的数据集市。
•设计原则：DM层按照分析主题进行主题域划分，往往存储中高度汇总数据。同时，为了保证数据的一致性，数据必须由企业数据仓库中的数据服务统一发布和提供，不允许直接从生产业务系统获取数据。
